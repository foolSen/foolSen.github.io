(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87e008d2"],{"4aa9":function(t,e,n){},"4bfb":function(t,e,n){"use strict";var o=n("d57d"),s=n.n(o);s.a},"9cdf":function(t,e,n){"use strict";var o=n("d172"),s=n.n(o);s.a},a8ae:function(t,e,n){"use strict";var o=n("4aa9"),s=n.n(o);s.a},b3d7:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("nav-bar",{staticClass:"home_nav"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("首页")])]),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],ref:"tabControl1",staticClass:"tab_control",attrs:{tabList:t.tabList},on:{handleTabClick:function(e){return t.handleTabClick(e)}}}),n("Scroll",{ref:"scroll",staticClass:"scroll_content",attrs:{"probe-type":3,"pull-up-load":!0},on:{backTopScroll:t.positionScroll,pullingUp:t.pullingUp}},[n("home-swiper",{attrs:{banners:t.banners},on:{swiperImageLoad:t.swiperImageLoad}}),n("home-recommend-view",{attrs:{recommends:t.recommends}}),n("tab-control",{ref:"tabControl2",attrs:{tabList:t.tabList},on:{handleTabClick:function(e){return t.handleTabClick(e)}}}),n("good-list",{attrs:{goods:t.goods[t.currentType].list}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},s=[],a=n("2909"),r=n("a7ac"),i=n("5d17"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",t._l(t.banners,(function(e,o){return n("swiper-item",{key:o},[n("img",{attrs:{src:e.image,alt:""},on:{load:t.SwiperImageLoad}})])})),1)},l=[],u=n("dc2c"),d={name:"HomeSwiper",components:{Swiper:u["a"],SwiperItem:u["b"]},props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isLoad:!1}},methods:{SwiperImageLoad:function(){this.isLoad||(this.$emit("swiperImageLoad"),this.isLoad=!0)}}},p=d,m=(n("a8ae"),n("2877")),f=Object(m["a"])(p,c,l,!1,null,null,null),b=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recomment"},t._l(t.recommends,(function(e,o){return n("div",{key:o},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:""}}),n("div",[t._v(t._s(e.title))])])])})),0)},g=[],v={name:"HomeRecommendView",components:{},props:{recommends:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{}},w=v,T=(n("4bfb"),Object(m["a"])(w,h,g,!1,null,"8e8e77a4",null)),k=T.exports,y=n("9bd0"),L=n("691d"),C=n("fdd6"),x=n("bc3a"),$=n.n(x);function _(t){var e=$.a.create({baseURL:"http://123.207.32.32:8000",timeout:5e3});return e.interceptors.request.use((function(t){return t}),(function(t){console.log(t)})),e.interceptors.response.use((function(t){return t.data}),(function(t){console.log(t)})),e(t)}var H=n("f0d9");function S(){return _({url:"/home/multidata"})}function I(t,e){return Object(H["a"])({url:"/goods/search",params:{query:t,pagenum:e}})}var O=n("eecb"),B={name:"Home",mixins:[O["b"]],components:{NavBar:r["a"],Scroll:i["a"],HomeSwiper:b,HomeRecommendView:k,TabControl:y["a"],GoodList:L["a"],BackTop:C["a"]},data:function(){return{banners:null,recommends:null,tabList:[{text:"流行"},{text:"新款"},{text:"精选"}],goods:{p:{page:0,list:[]},n:{page:0,list:[]},s:{page:0,list:[]}},currentType:"p",isBackTop:!1,tabOffsetTop:0,isTabFixed:!1,saveY:0}},created:function(){this.getHomeMultiData(),this.getHomeGoods("p"),this.getHomeGoods("n"),this.getHomeGoods("s")},mounted:function(){},activated:function(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},deactivated:function(){this.saveY=this.$refs.scroll.getScrollY(),this.$bus.$off("imageLoad",this.itemImageLoad)},methods:{getHomeMultiData:function(){var t=this;S().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,n=this.goods[t].page+1;I(t,n).then((function(n){var o;(o=e.goods[t].list).push.apply(o,Object(a["a"])(n.message.goods)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))},handleTabClick:function(t){switch(t){case 0:this.currentType="p";break;case 1:this.currentType="n";break;case 2:this.currentType="s";break}this.$refs.tabControl1.currentIndex=t+1,this.$refs.tabControl2.currentIndex=t+1},backClick:function(){this.$refs.scroll.scrollTo(0,0,500)},positionScroll:function(t){this.isBackTop=-t.y>=1e3,this.isTabFixed=-t.y>=this.tabOffsetTop,this.saveY=t.y},pullingUp:function(){this.getHomeGoods(this.currentType)},swiperImageLoad:function(){this.tabOffsetTop=this.$refs.tabControl2.$el.offsetTop}}},G=B,j=(n("9cdf"),Object(m["a"])(G,o,s,!1,null,"0b6d00d0",null));e["default"]=j.exports},d172:function(t,e,n){},d57d:function(t,e,n){}}]);
//# sourceMappingURL=chunk-87e008d2.cbc26b46.js.map